---
title: "Compulsory Exercise 2: Prediction of Alzheimers Disease from Longitudinal MRI Data"
author:
- Chester Henry Charlton
- Kasper Eikeland
- Tinus Garshol
date: "`r format(Sys.time(), '%d %B, %Y')`"
header-includes: \usepackage{amsmath}
output:
  # html_document:
  #   toc: no
  #   toc_depth: '2'
  #   df_print: paged
  pdf_document:
    toc: no
    toc_depth: '2'
urlcolor: blue
abstract: "This is the place for your abstract (max 350 words)"
---
  
```{r setup, include=FALSE}
library(knitr)
knitr::opts_chunk$set(echo = TRUE,tidy=TRUE,message=FALSE,warning=FALSE,strip.white=TRUE,prompt=FALSE,
                      cache=TRUE, size="scriptsize",fig.width=4, fig.height=3,fig.align = "center")

```

```{r,eval=TRUE,echo=FALSE}
library("knitr")
library("rmarkdown")
library("dplyr")
library("GGally")
```

```{r}
setwd("/Users/chcharlton/NTNU/statLearning/compulsory_alzheimers")
setwd("/Users/kaspe/Documents/NTNU/23V/TMA4268_Statistical_Learning/Projects/tma4268_alzheimers")
```


```{r}
longitudinal.df <- read.csv("oasis_longitudinal.csv")
cross_sectional.df <- read.csv("oasis_cross-sectional.csv")
```

<!--  Henry's initial work here -->


<!--  Kasper's initial work here. -->
```{r}
cross_sectional.df <- read.csv("oasis_cross-sectional.csv")

# Patient is demented if CDR is > 0
cs_mutated <- cross_sectional.df %>%
  select(c(M.F, eTIV, nWBV, ASF, Age, CDR)) %>%
  na.omit() %>%
  mutate(Demented = as.numeric(CDR>0))

longitudinal.df <- read.csv("oasis_longitudinal.csv")

longitudinal_deltas <- longitudinal.df %>% 
  group_by(Subject.ID) %>%
  summarise(dMMSE = last(MMSE) - first(MMSE), 
            deTIV = last(eTIV) - first(eTIV),
            dnWBV = last(nWBV) - first(nWBV),
            dASF = last(ASF) - first(ASF),
            dAge = last(Age) - first(Age))

baseline_with_deltas <- longitudinal.df %>%
  filter(Visit == 1) %>%
  left_join(longitudinal_deltas, by = c("Subject.ID")) %>%
  mutate(Demented = as.numeric(Group != "Nondemented")) %>% # Those who converted became demented
  select(-c(Subject.ID, MRI.ID, Group, Visit, MR.Delay, Hand)) 
  
# cross-sectional data
ggpairs(cs_mutated)

# longitudinal data
ggpairs(baseline_with_deltas)
```


<!--  Tinus' initial work here. -->



## Introduction: Scope and purpose of your project


## Descriptive data analysis/statistics


## Methods


## Results and interpretation


## Summary
